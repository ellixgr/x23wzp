<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Grupos WhatsApp Gr√°tis - Link de Amizade, Zoeira e Namoro</title>
<meta name="description" content="Encontre os melhores Grupos WhatsApp de Zoeira, Amizade, Namoro e muito mais. Links de convite gr√°tis, atualizados e verificados. Participe!">

<meta name="google-site-verification" content="7_kxuIgRIneJ9rU2-lGbHNXVAwnVYqAiN_ZOTfQ18io" />

<link rel="canonical" href="https://ellixgr.github.io/x23wzp/">

<meta property="og:title" content="Grupos whatsapp‚≠ê">
<meta property="og:description" content="Convite para conversar em grupo">
<meta property="og:image" content="https://i.postimg.cc/L5NNyLVv/1769082090576-(1).jpg">
<meta property="og:url" content="https://ellixgr.github.io/x23wzp/">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">

<style>
/* Reset e Estilos B√°sicos */
*{box-sizing:border-box;margin:0;padding:0}

/* CORRE√á√ÉO DO RODAP√â: BODY com flex-direction: column e min-height: 100vh */
body{
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    color:#222; /* Volta para o texto escuro */
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    background:#ebebeb; /* Cinza claro suave, sem ser branco ofuscante */
}



/* --- Estilos do Pop-up de An√∫ncio --- */
#popup-anuncio {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7); /* Fundo escuro transparente */
    display: none; /* Inicia oculto e o JS o mostrar√° no carregamento */
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Garante que fique acima de tudo */
    transition: opacity 0.3s ease;
}

#popup-content {
    position: relative;
    max-width: 90%;
    width: 350px; /* Largura m√°xima do pop-up */
    background: none;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    overflow: hidden;
}

#popup-content a {
    display: block;
}

#popup-content img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 15px;
    cursor: pointer;
}

#close-popup-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #e74c3c; /* Cor vermelha para o bot√£o */
    color: white;
    border: 2px solid white;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    text-align: center;
    line-height: 26px; /* Centraliza o 'X' */
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s;
    z-index: 10;
}

#close-popup-btn:hover {
    background: #c0392b;
}
/* --- Fim dos Estilos do Pop-up --- */

/* --- Header e Categorias --- */
header{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    padding:12px 10px;
    background:#fff; /* ALTERADO: Fundo branco para n√£o vazar a rolagem */
    color:#000;
    text-align:center;
    z-index:1000; 
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
    
    /* ---------------------------------------------------- */
    /* NOVO: Estilo para Esconder/Mostrar no Scroll */
    transform: translateY(-100%); /* Esconde o header acima da tela */
    transition: transform 0.3s ease-out, box-shadow 0.3s; /* Adiciona transi√ß√£o suave */
    /* ---------------------------------------------------- */
}

/* ---------------------------------------------------- */
/* NOVO: Classe para exibir o Header */
header.header-visible {
    transform: translateY(0);
}
/* ---------------------------------------------------- */

/* ALTERADO: Cor do t√≠tulo para azul escuro */
header h1{
    font-size:28px;
    text-shadow:none;
    color:#00008b; /* ALTERADO: Azul escuro */
} 
header p{margin-top:4px;text-shadow:none;} 

#categorias{margin-top:8px;display:flex;justify-content:center;gap:6px;flex-wrap:wrap}
.cat-btn{background:rgba(0,0,0,0.05);border:1px solid rgba(0,0,0,0.1);border-radius:20px;color:#000;font-size:13px;padding:5px 11px;cursor:pointer;transition:all .2s}
.cat-btn:hover{background:rgba(0,0,0,0.1)}
.cat-btn.active{background:#b78cff;border-color:#b78cff;color:#fff;} 

/* --- Menu Lateral (√çcone Hamb√∫rguer) --- */
.menu-icon{position:fixed;top:20px;right:20px;font-size:28px;z-index:1100;background:rgba(255,255,255,0.8);color:#000;padding:6px 12px;border-radius:10px;cursor:pointer; line-height: 1; box-shadow: 0 2px 5px rgba(0,0,0,0.2);}
.menu{position:fixed;top:0;right:-300px;width:250px;height:100%;background:rgba(255,255,255,0.95);padding:30px 20px;transition:right .3s;z-index:1200; box-shadow: -2px 0 10px rgba(0,0,0,0.1);}
.menu.open{right:0}
.menu .close-btn{position:absolute;top:15px;right:20px;background:none;border:none;color:#000;font-size:26px;cursor:pointer}
.menu h2{margin-top:50px;color:#b78cff;border-bottom:1px solid #b78cff;padding-bottom:5px;text-align:left}
.menu a {
    display: block;
    text-decoration: none;
    color: #333 !important;
    padding: 12px;
    border-radius: 12px;
    margin-top: 15px;
    text-align: left;
    font-size: 16px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.menu a:hover {
    transform: scale(1.02);
    filter: brightness(0.9);
}


/* --- Lista de Grupos --- */
#lista-grupos{width:100%;max-width:420px;padding:30px 20px 0;
    display:flex;flex-direction:column;align-items:center;gap:22px}

/* ESTILO DO AN√öNCIO */
#anuncio-afiliado {
    width: 100%;
    max-width: 420px; 
    margin: 25px auto; 
    display: block;
    border-radius: 15px;
    overflow: hidden; 
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); 
    transition: transform 0.2s;
    background: none; 
}

#anuncio-afiliado:hover {
    transform: scale(1.03);
    box-shadow: 0 6px 20px rgba(183,140,255,0.4); 
}

#anuncio-afiliado img {
    width: 80%; 
    max-width: 100%;
    height: auto; 
    display: block;
    margin: 0 auto;
}


/* --- NOVO ESTILO CARD IGUAL A FOTO --- */
.grupo {
    width: 100%;
    max-width: 380px;
    background: #fff;
    border-radius: 10px;
    overflow: hidden;
    display: flex;
    flex-direction: column; /* Faz ficar um embaixo do outro */
    text-decoration: none;
    color: #333;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    border: 1px solid #eee;
}

.card-topo {
    position: relative;
    width: 100%;
    height: 180px; /* Altura da imagem */
}

.grupo img.foto {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0;
}

.badge-categoria {
    position: absolute;
    bottom: 10px;
    left: 10px;
    background: rgba(0,0,0,0.7);
    color: #fff;
    padding: 3px 10px;
    font-size: 11px;
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: bold;
}

.card-corpo {
    padding: 15px;
    text-align: left;
}

.grupo span.nome {
    font-size: 18px;
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
    color: #000;
}

.descricao {
    font-size: 13px;
    color: #666;
    margin-bottom: 15px;
    line-height: 1.4;
}

.btn-falso-entrar {
    background: #25d366;
    color: white;
    text-align: center;
    padding: 12px;
    border-radius: 5px;
    font-weight: bold;
    text-transform: uppercase;
}

.estrela-vip {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 20px;
    background: rgba(255,255,255,0.9);
    border-radius: 50%;
    width: 35px;
    height: 35px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.grupo.vip::before{
    content:"‚≠ê";
    position:absolute;
    left:10px; 
    top:10px;
    transform: none;
    font-size:18px; 
    color:#ffd700;
    text-shadow:0 0 6px #ffda00,0 0 10px #ffb700;
    animation:none;
}
.grupo.vip .categoria{color: #e6b800; background: rgba(255,215,0,0.3);}

/* Estilos para Bot√µes de A√ß√£o (Editar/Excluir) */
.grupo-acoes-wrapper { 
    display: flex; 
    gap: 8px; 
    margin-top: 10px; 
    width: 100%;
    justify-content: center; 
    flex-wrap: wrap; 
}
.grupo-acoes-wrapper button {
    border: none;
    padding: 6px 15px;
    border-radius: 20px; 
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    transition: background 0.2s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    min-width: 95px; 
    color: #fff; 
}

/* --- AQUI ENTRA O BRILHO DO CART√ÉO VIP --- */
.grupo.vip {
    border: 2px solid #ffd700 !important; /* Borda Dourada */
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.5); /* Sombra inicial */
    animation: brilhoPulsante 2s infinite alternate; /* Faz o brilho "viver" */
}

/* Anima√ß√£o para o brilho ficar pulsando */
@keyframes brilhoPulsante {
    from {
        box-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
        border-color: #ffd700;
    }
    to {
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
        border-color: #fff1a0; /* Cor um pouco mais clara no auge do brilho */
    }
}


.grupo-acoes-wrapper button:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.grupo-acoes-wrapper button.edit-btn {
    background: rgba(46, 204, 113, 0.9); 
}
.grupo-acoes-wrapper button.edit-btn:hover {
    background: rgba(46, 204, 113, 1);
}
.grupo-acoes-wrapper button.delete-btn {
    background: rgba(231, 76, 60, 0.9); 
}
.grupo-acoes-wrapper button.delete-btn:hover {
    background: rgba(231, 76, 60, 1);
}

/* Ajuste no estilo dos cliques */
.grupo .cliques {
    font-size: 13px;
    color: #b78cff; 
    text-shadow: none; 
}

/* --- Rodap√© (FOOTER) CORRIGIDO - Garante que o footer fique no final do conte√∫do/tela --- */
footer{
    color:#666; 
    text-align:center;
    padding:14px 10px 40px;
    font-size:14px;
    line-height:1.6;
    text-shadow: none; 
    width: 100%;
}
footer a{color:#b78cff;text-decoration:none}

/* Modal Geral e Termos (Ajustado para Fundo Branco) */
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;justify-content:center;align-items:center;z-index:5000}
.modal-content{background:#fff;padding:20px;border-radius:20px;max-width:400px;width:90%;text-align:center;color:#000;position:relative; box-shadow: 0 4px 15px rgba(0,0,0,0.3);}
.modal-content h3{margin-bottom:15px}
.modal-content input, .modal-content select{width:90%;margin:5px 0;padding:8px;border-radius:10px;border:1px solid #ccc;background:#f9f9f9;color:#000;}
.modal-content button{padding:10px 20px;margin-top:10px;border:none;border-radius:15px;background:#b78cff;color:#fff;cursor:pointer;transition:0.2s}
.modal-content button:hover{background:#a56be0}
.modal .close-modal{position:absolute;top:10px;right:15px;font-size:22px;cursor:pointer;color:#000;}

/* Estilo para o conte√∫do do Modal VIP */
#vipModal > .modal-content {
    animation: fadeZoom 0.25s ease;
    border: 1px solid gold;
    padding: 25px;
    max-width: 350px;
    width: 90%; 
}

/* Estilo espec√≠fico para o bot√£o de Copiar e Enviar Comprovante */
.pix-copy-btn {
    background: #00bfff; 
    color: #fff;
    font-weight: bold;
    margin-top: 15px;
    padding: 12px 25px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    transition: background 0.2s;
}
.pix-copy-btn:hover {
    background: #0099cc;
}

.whatsapp-btn {
    background: #25d366; 
    color: #fff;
    font-weight: bold;
    margin-top: 15px;
    padding: 12px 25px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    text-decoration: none;
    display: block;
    width: 90%;
    margin-left: auto;
    margin-right: auto;
    transition: background 0.2s;
}
.whatsapp-btn:hover {
    background: #1eaa54;
}

/* Estilo para o formul√°rio de envio */
#modalEnvioGrupo .modal-content {
    background: #fff;
    border: 1px solid #b78cff;
    padding: 30px;
}
#modalEnvioGrupo h3 {
    color: #b78cff;
    border-bottom: 2px solid #b78cff;
    padding-bottom: 10px;
}
#modalEnvioGrupo .modal-content input,
#modalEnvioGrupo .modal-content select {
    background: #f0f0f0;
    color: #000;
    border: 1px solid #ccc;
    transition: border-color 0.2s;
}
#modalEnvioGrupo .modal-content input:focus,
#modalEnvioGrupo .modal-content select:focus {
    border-color: #b78cff;
    outline: none;
}
#grupoFotoLabel {
    display: block;
    background: #ccc;
    color: #000;
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    margin: 10px auto;
    width: 90%;
    transition: background 0.2s;
}
#grupoFotoLabel:hover {
    background: #aaa;
}
#grupoFotoUpload {
    display: none; 
}
#previewContainer {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 15px;
}
#previewFoto {
    width: 80px;
    height: 80px;
    border-radius: 50%; 
    object-fit: cover; 
    border: 3px solid #b78cff;
    box-shadow: 0 0 10px rgba(183,140,255,0.5);
}
#modalEnvioGrupo #salvarGrupo {
    background: #2ecc71;
    font-size: 16px;
}
#modalEnvioGrupo #salvarGrupo:hover {
    background: #27ae60;
}
</style>
</head>
<body>

<div id="popup-anuncio">
    <div id="popup-content">
        <span id="close-popup-btn">X</span>
        <a href="https://br.shp.ee/5q1d37e?smtt=0.0.9" target="_blank">
            <img src="https://files.catbox.moe/xjuhw5.png" alt="An√∫ncio - Visite a Shop">
        </a>
    </div>
</div>
<header>
  <h1>Grupos WhatsApp</h1>
  <p></p>
  <div id="categorias">
    <button class="cat-btn active" data-cat="Todos">Todos</button>
    <button class="cat-btn" data-cat="amizade">Amizade</button>
    <button class="cat-btn" data-cat="zoeira">Zoeira</button>
    <button class="cat-btn" data-cat="namoro">Namoro</button>
  </div>
</header>
<div class="menu-icon" id="menuBtn">‚ò∞</div> 
<div class="menu" id="sideMenu">
  <button class="close-btn" id="closeBtn">‚ùå</button>
  <h2>MENU</h2>
  
  <a href="https://br.shp.ee/5q1d37e?smtt=0.0.9" target="_blank" 
     style="background: #fff5eb; border: 2px solid #ff9800; box-shadow: 0 0 12px rgba(255, 152, 0, 0.6);">
     üõçÔ∏è Loja-acess√≥rios
  </a>

  <a href="#" id="meusGrupos" 
     style="background: #fdf5e6; border: 2px solid #f4a460; box-shadow: 0 0 12px rgba(244, 164, 96, 0.6);">
     üìù Meus Grupos
  </a>

  <a href="#" id="enviarGrupo" 
     style="background: #f0fff4; border: 2px solid #2ecc71; box-shadow: 0 0 15px rgba(46, 204, 113, 0.7);">
     üöÄ Enviar Meu Grupo
  </a>

  <a href="https://linkfly.to/grifinoria" target="_blank" 
     style="background: #f0f8ff; border: 2px solid #00bfff; box-shadow: 0 0 12px rgba(0, 191, 255, 0.6);">
     Renda extraüë®‚Äçüíªüí∞
  </a> 

  <a href="#" id="comprarVipBtn" 
     style="background: #fffdf0; border: 2px solid #ffd700; box-shadow: 0 0 18px rgba(255, 215, 0, 0.8); font-weight: bold;">
     ‚≠ê Ativar Vip
  </a>
  
  <a href="https://wa.me/5521977231625?text=Ol√°! Preciso de suporte." target="_blank" 
     style="background: #f5fff9; border: 2px solid #25d366; box-shadow: 0 0 10px rgba(37, 211, 102, 0.4); color: #128c7e !important; font-weight: bold;">
     üü¢ Suporte WhatsApp
  </a>
</div>



<div style="width: 100%; max-width: 420px; display: flex; flex-direction: column; align-items: center; padding: 0 20px; flex-grow: 1;"> 
    
    <div style="height: 120px; width: 100%;"></div> 
    
    <div id="lista-grupos" style="padding: 0; padding-bottom: 0;"></div>

    <a href="https://soupopular.net/ref/bagau" target="_blank" id="anuncio-afiliado" style="margin-top: auto;">
        <img src="https://files.catbox.moe/k4dtyg.jpg" alt="An√∫ncio - Compre Seguidores e Curtidas" loading="lazy">
    </a>

</div>

<footer>
  <a href="#" id="termosLink">Termos de Uso</a>
  <a href="#" id="privacidadeLink">Politica de Privacidade</a><br>
  ¬© COPYRIGHT 2026 - <a href="https://ellixgr.github.io/x23wzp/" target="_blank">gruposWhats</a>
</footer>


<div id="modalTermos" class="modal">
  <div class="modal-content">
    <span class="close-modal">‚ùå</span>
    <h3 id="modalTitulo"></h3>
    <div id="modalTexto" style="text-align:left; max-height:300px; overflow-y:auto;"></div>
  </div>
</div>

<div id="vipModal" class="modal">
  <div class="modal-content" style="padding: 20px; max-width: 380px; overflow: hidden; position: relative;">
    <span class="close-modal" id="fecharVipIcon" style="z-index: 10; position: absolute; right: 15px; top: 10px;">‚ùå</span>
    <h3 style="color: #ffd700; margin-bottom: 15px;">‚≠ê Planos VIP ‚≠ê</h3>

    <div id="carrossel-pagamento" style="display: flex; overflow-x: auto; scroll-snap-type: x mandatory; gap: 20px; padding-bottom: 10px; scrollbar-width: none; -webkit-overflow-scrolling: touch;">
      
      <div style="min-width: 100%; scroll-snap-align: center; display: flex; flex-direction: column; align-items: center;">
        <div style="background: #fff8e1; border: 2px solid #ffd700; padding: 15px; border-radius: 15px; width: 90%;">
          <h4 style="color: #000;">Plano Bronze</h4>
          <p style="font-size: 20px; font-weight: bold; color: #2ecc71;">R$ 5,00</p>
          <p style="font-size: 13px; color: #666;">VIP por <b>1 DIA</b></p>
          <img src="https://files.catbox.moe/kvyq5d.jpg" style="width: 150px; margin: 10px 0; border-radius: 8px;">
          <button onclick="copiarPixManual('00020126580014BR.GOV.BCB.PIX013689a5c070-cdd1-443b-997d-0cbbcf80e2de52040000530398654045.005802BR5918Elias da Conceicao6009SAO PAULO62140510lRM9nLzEht6304AA83', this)" class="pix-copy-btn" style="width: 100%; font-size: 12px;">üìã Copiar C√≥digo Pix</button>
        </div>
      </div>

      <div style="min-width: 100%; scroll-snap-align: center; display: flex; flex-direction: column; align-items: center;">
        <div style="background: #f0f8ff; border: 2px solid #00bfff; padding: 15px; border-radius: 15px; width: 90%;">
          <h4 style="color: #000;">Plano Prata</h4>
          <p style="font-size: 20px; font-weight: bold; color: #2ecc71;">R$ 10,00</p>
          <p style="font-size: 13px; color: #666;">VIP por <b>2 DIAS</b></p>
          <img src="https://i.postimg.cc/c1trwChX/Screenshot-20260130-205925-(1).jpg" style="width: 150px; margin: 10px 0; border-radius: 8px;">
          <button onclick="copiarPixManual('00020126720014BR.GOV.BCB.PIX013689a5c070-cdd1-443b-997d-0cbbcf80e2de0210ativar vip520400005303986540510.005802BR5918Elias da Conceicao6009SAO PAULO62140510FCbk23CQPL6304CE8C', this)" class="pix-copy-btn" style="width: 100%; background: #00bfff; font-size: 12px;">üìã Copiar C√≥digo Pix</button>
        </div>
      </div>
    </div>

    <p style="font-size: 10px; color: #888; margin-top: 5px;">‚¨ÖÔ∏è Arraste para o lado para ver planos ‚û°Ô∏è</p>

    <a href="https://wa.me/5521977231625?text=Ol√°, fiz o Pix VIP. Segue o comprovante!" target="_blank" class="whatsapp-btn" style="font-size: 13px;">
       Enviar Comprovante üì±
    </a>
    
    <button id="fecharVipBtn" style="display:none;">Fechar</button>
  </div>
</div>
<div id="modalAvisoVip" class="modal">
  <div class="modal-content">
    <span class="close-modal" id="fecharAvisoVip">‚ùå</span>
    <h3 id="avisoVipTitulo"></h3>
    <p id="avisoVipMensagem"></p>
    <p id="avisoVipCodigo" style="font-size:24px; font-weight:bold; color:#b78cff; margin-top:15px;"></p>
  </div>
</div>

<div id="modalEnvioGrupo" class="modal">
  <div class="modal-content">
    <span class="close-modal" onclick="document.getElementById('modalEnvioGrupo').style.display = 'none';" style="position:absolute; top:10px; right:15px; font-size:22px; cursor:pointer;">‚ùå</span>
    <h3>Enviar Meu Grupo</h3>
    
    <input type="text" id="grupoNome" placeholder=" Nome do grupo" required>
    <input type="text" id="grupoLink" placeholder=" Link do grupo (https://chat.whatsapp.com/...)" required>
 
    <input type="text" id="grupoDescricao" placeholder=" Descri√ß√£o curta (M√°x 60 letras)" maxlength="60" required>

          
    <select id="grupoCategoria" required>
      <option value=""> Selecione a Categoria</option>
      <option value="Amizade">Amizade</option>
      <option value="Zoeira">Zoeira</option>
      <option value="Namoro">Namoro</option>
    </select>
    
    <input type="text" id="grupoVipCodigo" placeholder=" C√≥digo VIP (opcional)">

    <div id="previewContainer">
        <input type="file" id="grupoFotoUpload" accept="image/*">
        <label for="grupoFotoUpload" id="grupoFotoLabel"> Escolha a foto do grupo</label>
        
        <img id="previewFoto" src="https://files.catbox.moe/9qdwuz.webp" alt="Pr√©via da foto">
    </div>
    
    <button id="salvarGrupo">
      Enviar Grupo
    </button>
    <p id="mensagemEnvio" style="margin-top:10px; color:#2ecc71; font-weight:bold; display:none;">Grupo enviado com sucesso!</p>
  </div>
</div>


<script type="module">
// Vers√µes mais recentes e modulares do Firebase
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, onValue, runTransaction, set, remove, push } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

// Credenciais do Firebase (MANTIDAS)
const firebaseConfig = {
  apiKey: "AIzaSyDsrYjO2yVTemKqwmJRzNjh5sfaMalPqhE",
  authDomain: "cliques-4a2c1.firebaseapp.com",
  databaseURL: "https://cliques-4a2c1-default-rtdb.firebaseio.com",
  projectId: "cliques-4a2c1",
  storageBucket: "cliques-4a2c1.firebase storage.app",
  messagingSenderId: "903875153255",
  appId: "1:903875153255:web:ff3cf25e059b10d665b3c2",
  measurementId: "G-BQ7FWRJD"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// Vari√°veis de Elementos (MANTIDAS)
const menu = document.getElementById('sideMenu');
const enviarBtn = document.getElementById('enviarGrupo');
const meusBtn = document.getElementById('meusGrupos');
const modalTermos = document.getElementById('modalTermos');
const closeModalTermos = modalTermos.querySelector('.close-modal');
const modalTitulo = document.getElementById('modalTitulo');
const modalTexto = document.getElementById('modalTexto');
const header = document.querySelector('header'); // NOVO: Refer√™ncia ao Header

const vipModal = document.getElementById('vipModal');
const fecharVipIcon = document.getElementById('fecharVipIcon');
const fecharVipBtn = document.getElementById('fecharVipBtn');

const modalAvisoVip = document.getElementById('modalAvisoVip');
const avisoVipTitulo = document.getElementById('avisoVipTitulo');
const avisoVipMensagem = document.getElementById('avisoVipMensagem');
const avisoVipCodigo = document.getElementById('avisoVipCodigo');
document.getElementById('fecharAvisoVip').onclick = () => modalAvisoVip.style.display = 'none';

// Elementos Pix
const pixCodeField = document.getElementById('pix-code-field');
const copyPixBtn = document.getElementById('copy-pix-btn');


// VARI√ÅVEL GLOBAL ESSENCIAL 
let todosGrupos = []; 

// REGEX CORRIGIDO: Mais robusto para links de convite do WhatsApp
const WHATSAPP_LINK_REGEX = /^https?:\/\/(chat\.whatsapp\.com\/|wa\.me\/invite\/|whatsapp\.com\/)([A-Za-z0-9_-]{22}|[0-9]{1,4})\/?(\?.*)?$/i;


// ================== CRIA√á√ÉO E MANIPULA√á√ÉO DO MODAL DE GRUPO (MANTIDO) ================== //

const modal = document.getElementById('modalEnvioGrupo'); 
const previewFoto = document.getElementById("previewFoto");
const fotoInput = document.getElementById("grupoFotoUpload");
const salvarGrupoBtn = document.getElementById('salvarGrupo');

salvarGrupoBtn.addEventListener('mouseover', () => salvarGrupoBtn.style.background = '#27ae60');
salvarGrupoBtn.addEventListener('mouseout', () => salvarGrupoBtn.style.background = '#2ecc71');

fotoInput.addEventListener("change", (e) => {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = (ev) => (previewFoto.src = ev.target.result);
    reader.readAsDataURL(file);
  }
});

// ================== SALVAR NOVO GRUPO (COM VALIDA√á√ÉO DE LINK, SEM VALIDA√á√ÉO DE NOME) ================== //
async function salvarNovoGrupo() {
  const nome = document.getElementById('grupoNome').value.trim();
  const link = document.getElementById('grupoLink').value.trim();
  const descricao = document.getElementById('grupoDescricao').value.trim() || "Clique para entrar no grupo e interagir com a galera!";
  
  const foto = previewFoto.src.trim().includes('9qdwuz.webp') ? 'https://files.catbox.moe/ls07y5.jpg' : previewFoto.src.trim();
  const categoria = document.getElementById('grupoCategoria').value;
  const vipCodigo = document.getElementById('grupoVipCodigo').value.trim();

  if (!nome) {
    showAlert('O nome do grupo √© obrigat√≥rio.');
    return;
  }
  if (!WHATSAPP_LINK_REGEX.test(link)) {
    showAlert('Por favor, use um link de convite do WhatsApp v√°lido (ex: https://chat.whatsapp.com/...).');
    return;
  }
  if (!categoria) {
    showAlert('A categoria do grupo √© obrigat√≥ria. Por favor, escolha uma.');
    return;
  }
  
  if (todosGrupos.some(g => g.link === link)) {
    showAlert('Este link de grupo j√° foi enviado. N√£o √© permitido links repetidos.');
    return; 
  }
  
  const isVip = vipCodigo === "21977"; 
  const usuario = localStorage.getItem('usuarioID') || crypto.randomUUID();
  localStorage.setItem('usuarioID', usuario);

  // Aqui a descri√ß√£o foi inclu√≠da no pacote
  const novoGrupo = { nome, link, descricao, foto, categoria, dono: usuario, vip: isVip, cliques: 0 }; 

  try {
    const gruposRef = ref(db, 'grupos');
    await push(gruposRef, novoGrupo); 
  } catch (error) {
    showAlert('Erro ao salvar no banco de dados. Tente novamente.');
    console.error('Erro ao salvar no Firebase:', error);
    return;
  }

  const msg = document.getElementById('mensagemEnvio');
  msg.style.display = 'block';
  setTimeout(() => {
    msg.style.display = 'none';
    modal.style.display = 'none';
  }, 1500);
}


// SALVAR GRUPO AGORA APONTA PARA A FUN√á√ÉO DE NOVO GRUPO POR PADR√ÉO
salvarGrupoBtn.onclick = salvarNovoGrupo;

// ================== FUN√á√ïES DE EDI√á√ÉO/EXCLUS√ÉO, CARREGAR GRUPOS (CORRIGIDAS) ================== //

function abrirEdicao(grupo){
  modal.style.display = 'flex';
  document.getElementById('grupoNome').value = grupo.nome;
  document.getElementById('grupoLink').value = grupo.link;
  previewFoto.src = grupo.foto;
  document.getElementById('grupoCategoria').value = grupo.categoria;
  document.getElementById('grupoVipCodigo').value = grupo.vip ? "21977" : "";
  document.getElementById('grupoFotoUpload').value = null; // Limpa o input file
  
  // Define a fun√ß√£o de salvar para a edi√ß√£o e passa o objeto completo (com a key)
  salvarGrupoBtn.onclick = () => salvarEdicao(grupo); 
}

// *** FUN√á√ÉO SALVAREDICAO (CORRIGIDA PARA PRESERVAR CLIQUES) ***
async function salvarEdicao(grupoOriginal){
  const nomeNovo = document.getElementById('grupoNome').value.trim();
  const linkNovo = document.getElementById('grupoLink').value.trim();
  const descricaoNova = document.getElementById('grupoDescricao').value.trim() || "Clique para entrar no grupo e interagir com a galera!";
  
  const fotoNova = previewFoto.src.trim().includes('9qdwuz.webp') ? grupoOriginal.foto : previewFoto.src.trim();
  const categoriaNova = document.getElementById('grupoCategoria').value;
  const vipNovo = document.getElementById('grupoVipCodigo').value.trim() === "21977"; 

  if (!nomeNovo || !WHATSAPP_LINK_REGEX.test(linkNovo) || !categoriaNova) {
    showAlert('Preencha corretamente o nome, link v√°lido do WhatsApp e a categoria!');
    return;
  }
  
  const isLinkRepetido = todosGrupos.some(g => 
      g.link === linkNovo && 
      g.key !== grupoOriginal.key
  );
  
  if (isLinkRepetido) {
    showAlert('Este link de grupo j√° est√° sendo usado por outro grupo. N√£o √© permitido links repetidos.');
    return;
  }
  
  const grupoEditado = {
      nome: nomeNovo, 
      link: linkNovo, 
      descricao: descricaoNova,
      foto: fotoNova,
      categoria: categoriaNova,
      vip: vipNovo,
      dono: grupoOriginal.dono, 
      cliques: grupoOriginal.cliques || 0, 
  };
  
  try {
    await set(ref(db, 'grupos/' + grupoOriginal.key), grupoEditado);
  } catch (error) {
    showAlert('Erro ao salvar edi√ß√£o no banco de dados. Tente novamente.');
    console.error('Erro ao salvar edi√ß√£o no Firebase:', error);
    return;
  }

  const msg = document.getElementById('mensagemEnvio');
  msg.textContent = 'Grupo editado com sucesso!';
  msg.style.display = 'block';
  setTimeout(() => {
    msg.style.display = 'none';
    msg.textContent = 'Grupo enviado com sucesso!';
    modal.style.display = 'none';
  }, 1500);

  salvarGrupoBtn.onclick = salvarNovoGrupo; 
}


// *** FUN√á√ÉO EXCLUIR GRUPO (CORRIGIDA PARA USAR A CHAVE √öNICA/KEY) ***
function excluirGrupo(grupo){
  if (!confirm('Deseja realmente excluir este grupo?')) return;
  // CORRIGIDO: Remove no Firebase usando a chave √∫nica
  try {
    remove(ref(db, 'grupos/' + grupo.key));
  } catch (error) {
    showAlert('Erro ao excluir o grupo.');
    console.error('Erro ao excluir do Firebase:', error);
  }
}


// *** FUN√á√ÉO CARREGAR GRUPOS (CORRIGIDA E SIMPLIFICADA) ***
async function carregarGrupos() {
  const gruposRef = ref(db, 'grupos');

  // onValue garante que o site seja um ESPELHO do Firebase
  onValue(gruposRef, snap => {
    const listaFirebase = [];
    
    // Se o banco estiver vazio, limpa a tela
    if (!snap.exists()) {
      todosGrupos = [];
      renderizarGrupos([]);
      return;
    }

    // Pega APENAS o que existe no Firebase agora
    snap.forEach(childSnap => {
        const grupo = childSnap.val();
        grupo.key = childSnap.key; 
        grupo.vip = !!grupo.vip;
        grupo.cliques = grupo.cliques || 0;
        listaFirebase.push(grupo);
    });
    
    // Sobrescreve a lista global (apaga qualquer dado antigo)
    todosGrupos = listaFirebase;
    
    // Mant√©m a categoria selecionada correta
    const catAtiva = document.querySelector('.cat-btn.active').dataset.cat.toLowerCase();
    
    let listaFiltrada = todosGrupos;
    if (catAtiva !== 'todos') {
      listaFiltrada = todosGrupos.filter(g => g.categoria?.toLowerCase() === catAtiva);
    }
    
    renderizarGrupos(listaFiltrada);
  });
}


// ================== RENDERIZAR GRUPOS (CORRIGIDO) ================== //

function ordenarGrupos(lista) {
    return lista.sort((a, b) => {
        // 1. VIPs SEMPRE no topo
        if (a.vip && !b.vip) return -1;
        if (!a.vip && b.vip) return 1;
        // 2. Crit√©rio de desempate: alfab√©tica
        return (a.nome || '').localeCompare(b.nome || ''); 
    });
}


function renderizarGrupos(lista) {
  const container = document.getElementById('lista-grupos');
  container.innerHTML = '';

  if (lista.length === 0) {
    container.innerHTML = '<p style="color:#555;">Nenhum grupo encontrado nesta categoria.</p>';
    return;
  }

  const usuario = localStorage.getItem('usuarioID');
  const listaOrdenada = ordenarGrupos([...lista]);

  listaOrdenada.forEach(g => {
    const isOwner = g.dono === usuario;
    const wrapper = document.createElement('div');
    wrapper.style.display = 'flex';
    wrapper.style.flexDirection = 'column';
    wrapper.style.alignItems = 'center';
    wrapper.style.width = '100%';

    const btn = document.createElement('a');
    let classNames = ['grupo'];
    if (g.vip) classNames.push('vip');
    
    btn.className = classNames.join(' ');
    btn.href = g.link;
    btn.target = '_blank';

    // AQUI EST√Å O SEGREDO: Adicionei o span com a classe "cliques" de volta
    btn.innerHTML = `
      <div class="card-topo">
        <img class="foto" src="${g.foto}" alt="foto do grupo">
        <span class="badge-categoria">${g.categoria || 'Geral'}</span>
        ${g.vip ? '<span class="estrela-vip">‚≠ê</span>' : ''}
      </div>
      <div class="card-corpo">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <span class="nome">${g.nome}</span>
            <span class="cliques" style="font-size: 11px; color: #b78cff; font-weight: bold; white-space: nowrap; margin-left: 5px;">üî• ${g.cliques || 0} ACESSO</span>
        </div>
        <p class="descricao">${g.descricao || "Clique para entrar no grupo e interagir com a galera!"}</p>
        <div class="btn-falso-entrar">Entrar no Grupo</div>
      </div>
    `;

    const cliqueRef = ref(db, 'grupos/' + g.key + '/cliques'); 
    
    // Atualiza√ß√£o em tempo real (Realtime)
    onValue(cliqueRef, snap => {
      const cliquesSpanUpdate = btn.querySelector('.cliques');
      if (cliquesSpanUpdate) {
        cliquesSpanUpdate.textContent = `üî• ${snap.val() || 0} ACESSO`;
      }
    });

    btn.addEventListener('click', e => {
      e.preventDefault();
      runTransaction(cliqueRef, (currentData) => {
        return (currentData || 0) + 1;
      }).then(() => {
        window.open(g.link, '_blank');
      }).catch(error => {
          window.open(g.link, '_blank'); 
      });
    });

    wrapper.appendChild(btn);

    if (isOwner) {
      const box = document.createElement('div');
      box.className = 'grupo-acoes-wrapper'; 
      const edit = document.createElement('button');
      edit.textContent = 'Editar';
      edit.className = 'edit-btn'; 
      edit.onclick = () => abrirEdicao(g);
      const del = document.createElement('button');
      del.textContent = 'Excluir';
      del.className = 'delete-btn'; 
      del.onclick = () => excluirGrupo(g);
      box.appendChild(edit);
      box.appendChild(del);
      wrapper.appendChild(box);
    }

    container.appendChild(wrapper);
  });
}



window.copiarPixManual = async function(codigo, botao) {
    try {
        await navigator.clipboard.writeText(codigo);
        const textoOriginal = botao.textContent;
        botao.textContent = '‚úÖ Copiado!';
        botao.style.background = '#27ae60';
        setTimeout(() => {
            botao.textContent = textoOriginal;
            botao.style.background = '';
        }, 2000);
    } catch (err) {
        showAlert('Erro ao copiar. Tente selecionar o c√≥digo manualmente.');
    }
};


// ================== NOVO C√ìDIGO PARA O POP-UP DE AN√öNCIO ================== //

const popupAnuncio = document.getElementById('popup-anuncio');
const closePopupBtn = document.getElementById('close-popup-btn');

// 1. Fun√ß√£o para abrir o pop-up
function showPopupAd() {
    popupAnuncio.style.display = 'flex';
}

// 2. Fun√ß√£o para fechar o pop-up
function closePopupAd() {
    popupAnuncio.style.display = 'none';
    // Opcional: Armazenar no localStorage que o usu√°rio j√° viu/fechou, para n√£o mostrar novamente na mesma sess√£o
    // localStorage.setItem('popupClosed', 'true');
}

// 3. Adiciona o evento de fechar ao bot√£o 'X'
closePopupBtn.addEventListener('click', closePopupAd);

// 4. Adiciona o evento para mostrar o pop-up no carregamento da p√°gina
window.addEventListener('load', showPopupAd);

// ================== INICIALIZA√á√ÉO DE EVENTOS (MANTIDO) ================== //

const comprarVipBtn = document.getElementById('comprarVipBtn');

// O evento agora s√≥ abre o modal de Pix
comprarVipBtn.addEventListener("click", (e) => {
  e.preventDefault();
  vipModal.style.display = "flex";
  menu.classList.remove("open");
});

// Outros Eventos 
document.getElementById('menuBtn').addEventListener('click',()=>menu.classList.add('open'));
document.getElementById('closeBtn').addEventListener('click',()=>menu.classList.remove('open'));

document.querySelectorAll('.cat-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const cat = btn.dataset.cat.toLowerCase();
    
    // Filtra e depois ordena
    let listaFiltrada;
    if (cat === 'todos') {
        listaFiltrada = todosGrupos;
    } else {
        // Filtragem segura
        listaFiltrada = todosGrupos.filter(g => g.categoria?.toLowerCase() === cat);
    }

    // Re-ordena a lista filtrada (necess√°rio para manter VIPs no topo da categoria)
    const listaFinal = ordenarGrupos(listaFiltrada);

    renderizarGrupos(listaFinal);
  });
});

fecharVipIcon.onclick = () => { vipModal.style.display = 'none'; };
fecharVipBtn.onclick = () => { vipModal.style.display = 'none'; };


// ABRIR MODAL ENVIAR GRUPO (RESTAURA O SALVAR POR PADR√ÉO)
enviarBtn.onclick = (e) => {
  e.preventDefault(); 
  modal.style.display = 'flex';
  menu.classList.remove('open');
  
  // Limpa os campos para um novo envio
  document.getElementById('grupoNome').value = '';
  document.getElementById('grupoLink').value = '';
  
  // --- ADICIONE ESTA LINHA ABAIXO ---
  document.getElementById('grupoDescricao').value = ''; 
  // ---------------------------------

  document.getElementById('grupoCategoria').value = '';
  document.getElementById('grupoVipCodigo').value = '';
  previewFoto.src = 'https://files.catbox.moe/9qdwuz.webp';
  document.getElementById('grupoFotoUpload').value = null; 
  
  salvarGrupoBtn.onclick = salvarNovoGrupo; 
  document.getElementById('mensagemEnvio').textContent = 'Grupo enviado com sucesso!'; 
  document.getElementById('mensagemEnvio').style.display = 'none'; 
};


// MEUS GRUPOS (MANTIDO)
meusBtn.onclick = (e) => {
  e.preventDefault();
  const usuario = localStorage.getItem('usuarioID');
  if (!usuario) {
      showAlert('Voc√™ ainda n√£o enviou nenhum grupo.');
      return;
  }

  const meus = todosGrupos.filter(g => g.dono === usuario);

  if (meus.length === 0) {
      showAlert('Voc√™ ainda n√£o enviou nenhum grupo.');
  } else {
    // Remove a classe 'active' de todos os bot√µes de categoria
    document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
    
    renderizarGrupos(meus);
    menu.classList.remove('open');
  }
};

// TERMOS E PRIVACIDADE (MANTIDO)
document.getElementById('termosLink').onclick = (e) => {
  e.preventDefault();
  modalTitulo.textContent = "Termos de Uso";
  modalTexto.innerHTML = `
    <p>Bem-vindo ao nosso site de grupos WhatsApp. Ao utilizar este site, voc√™ concorda com os seguintes termos:</p>
    <ul>
      <li>Voc√™ √© respons√°vel por todo o conte√∫do que enviar, incluindo links e imagens.</li>
      <li>N√£o √© permitido enviar conte√∫do ilegal, ofensivo ou que viole direitos de terceiros.</li>
      <li>O site n√£o se responsabiliza pelo conte√∫do dos grupos externos do WhatsApp.</li>
      <li>Os grupos VIPs s√£o destacados apenas para fins de visibilidade dentro do site.</li>
      <li>Podemos alterar os termos de uso a qualquer momento, sendo sua responsabilidade consultar atualiza√ß√µes.</li>
      <li>O uso do site √© gratuito, mas o envio de grupos e pagamentos VIP seguem as regras aqui descritas.</li>
      </ul>
    <p>Se voc√™ n√£o concorda com estes termos, por favor, n√£o utilize o site.</p>
  `; 
  modalTermos.style.display = "flex";
};

document.getElementById('privacidadeLink').onclick = (e) => {
  e.preventDefault();
  modalTitulo.textContent = "Pol√≠tica de Privacidade";
  modalTexto.innerHTML = `
    <p>Esta Pol√≠tica de Privacidade explica como coletamos e usamos os dados dos usu√°rios em nosso site.</p>
    <ul>
      <li>Coletamos apenas informa√ß√µes necess√°rias para o funcionamento do site, como seu identificador √∫nico (usuarioID), cliques nos grupos e visitas ao site.</li>
      <li>O usuarioID √© armazenado no seu navegador via localStorage e n√£o cont√©m dados pessoais identific√°veis.</li>
      <li>Os dados de cliques e visitas s√£o armazenados no Firebase apenas para exibir estat√≠sticas do site.</li>
      <li>N√£o compartilhamos seus dados com terceiros.</li>
      <li>Voc√™ pode limpar os dados do seu navegador a qualquer momento, removendo seu usuarioID e hist√≥rico local.</li>
    </ul>
    <p>Ao continuar usando o site, voc√™ concorda com esta pol√≠tica.</p>
  `;
  modalTermos.style.display = "flex";
};

closeModalTermos.onclick = () => modalTermos.style.display = "none";

// ========================================================= //
// === C√ìDIGO PARA MOSTRAR/ESCONDER O HEADER NO SCROLL === //
// ========================================================= //

let lastScrollTop = 0;
const scrollThreshold = 20; // Rolagem m√≠nima necess√°ria para disparar a mudan√ßa

window.addEventListener("scroll", () => {
    const currentScroll = window.scrollY || document.documentElement.scrollTop;

    // Apenas se o scroll for maior que o topo (para evitar esconder no carregamento)
    if (currentScroll > 0) {
        
        // Rolando para BAIXO
        if (currentScroll > lastScrollTop + scrollThreshold) {
            header.classList.remove('header-visible');
        } 
        
        // Rolando para CIMA
        else if (currentScroll < lastScrollTop - scrollThreshold) {
            header.classList.add('header-visible');
        }
    } else {
        // Se estiver no topo da p√°gina, sempre mostre o header
        header.classList.add('header-visible');
    }

    lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // Para mobile/scroll bounce
}, false);

// Garante que o header esteja vis√≠vel na carga inicial
document.addEventListener('DOMContentLoaded', () => {
    if (window.scrollY === 0) {
        header.classList.add('header-visible');
    }
});


// ================== INICIAR ================== //

// 1. Crie a fun√ß√£o showAlert aqui dentro (no final do script)
window.showAlert = function(mensagem) {
  document.getElementById('customAlertMessage').textContent = mensagem;
  document.getElementById('customAlert').style.display = 'flex';
};

carregarGrupos();
</script>

<div id="customAlert" class="modal" style="display:none; z-index: 10000;">
  <div class="modal-content" style="border: 2px solid #b78cff; padding: 30px;">
    <h3 style="color: #b78cff;">Aviso</h3>
    <p id="customAlertMessage" style="margin: 15px 0; color: #333; font-weight: 500;"></p>
    <button onclick="document.getElementById('customAlert').style.display='none'" 
            style="background: #b78cff; border: none; padding: 10px 30px; color: white; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 16px;">
      OK
    </button>
  </div>
</div>

</body>
</html>
